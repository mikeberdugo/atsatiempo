{% extends 'base/base.html' %}
{% load crispy_forms_tags %}
{% load static %}

{% block title %} ATS | Listado Reclutamiento General {% endblock title %}

{% block titulo_pagina %} Listado Reclutamiento General {% endblock titulo_pagina %}

{% block navegacion %}
    <li class="breadcrumb-item text-white opacity-75">Listado Reclutamiento General</li>
{% endblock navegacion %}


{% block css %}
    .asteriskField {
        color: red !important;
    }
{% endblock css %}

{% block content %}
<div class="card shadow-sm">
    <div class="card-header">
        <h3 class="card-title">Title</h3>
        <div class="card-toolbar">
            <button type="button" class="btn btn-sm btn-light">
                Action
            </button>
        </div>
    </div>
    <div class="card-body">
        <table id="kt_listado_reclutados" class="table table-striped table-row-bordered gy-5 gs-7 border rounded">
            <thead>
                <tr class="fw-bold fs-6 text-gray-800 px-7">
                    <th style="text-align: center">ID</th>
                    <th style="text-align: center">NIT</th>
                    <th style="text-align: center">CLIENTE</th>
                    <th style="text-align: center">VACANTE</th>
                    <th style="text-align: center">ESTADO VACANTE</th>
                    <th style="text-align: center"># POSICIONES</th>
                    <th style="text-align: center">CIUDAD</th>
                    <th style="text-align: center">SALARIO</th>
                    <th style="text-align: center">PROFESION / ESTUDIO</th>
                    <th style="text-align: center">EXPERIENCIA</th>
                    <th style="text-align: center">FECHA VACANTE</th>
                    <th style="text-align: center">CANDIDATO ID</th>
                    <th style="text-align: center">CANDIDATO</th>
                    <th style="text-align: center">FECHA APLICACIÓN</th>
                    <th style="text-align: center">ESTADO RECLUTAMIENTO</th>
                </tr>
            </thead>
            <tbody>
                
                {% for e in asignacion_vacante %}
                <tr>
                    <td style="text-align: center">{{e.id}}</td>
                    <td style="text-align: center">{{e.cliente_nit}}</td>
                    <td style="text-align: center">{{e.cliente_razon_social}}</td>
                    <td style="text-align: center">{{e.vacante_titulo}}</td>
                    <td style="text-align: center">{{e.vacante_estado}}</td>
                    <td style="text-align: center">{{e.vacante_numero_posiciones}}</td>
                    <td style="text-align: center">{{e.vacante_ciudad}}</td>
                    <td style="text-align: center">${{e.vacante_salario}}</td>
                    <td style="text-align: center">{{e.vacante_profesion_estudio}}</td>
                    <td style="text-align: center">{{e.vacante_experiencia_requerida}}</td>
                    <td style="text-align: center">{{e.vacante_fecha_creacion | date:"Y/m/d"}}</td>
                    <td style="text-align: center">{{e.candidato_id}}</td>
                    <td style="text-align: center"><b>{{e.candidato_nombre}}</b></td>
                    <td style="text-align: center">{{e.fecha_aplicacion | date:"Y/m/d"}}</td>
                    <td style="text-align: center">{{e.aplicacion_vacante_estado}}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="card-footer">
        Footer
    </div>
</div>
{% endblock content %}

{% block extrajs %}
<script>
    $("#kt_listado_reclutados").DataTable({
            "language": {
                "lengthMenu": "Mostrar _MENU_ ",
                "zeroRecords": "No se encontraron resultados",
                "info": "Mostrando página _PAGE_ de _PAGES_",
                "infoEmpty": "No hay registros disponibles",
                "infoFiltered": "(filtrado de _MAX_ registros totales)",
                "search": "Buscar:  ",
                "paginate": {
                    "first": "Primero",
                    "last": "Último",
                    "next": "Siguiente",
                    "previous": "Anterior"
                },
                "loadingRecords": "Cargando...",
                "processing": "Procesando...",
                "emptyTable": "No hay datos disponibles en la tabla",
                "aria": {
                    "sortAscending": ": Activar para ordenar la columna de manera ascendente",
                    "sortDescending": ": Activar para ordenar la columna de manera descendente"
                }
            },
            "order":[],
            "dom":
                "<'row mb-2'" +
                "<'col-sm-6 d-flex align-items-center justify-conten-start dt-toolbar'l>" +
                "<'col-sm-6 d-flex align-items-center justify-content-end dt-toolbar'f>" +
                ">" +
        
                "<'table-responsive'tr>" +
        
                "<'row'" +
                "<'col-sm-12 col-md-5 d-flex align-items-center justify-content-center justify-content-md-start'i>" +
                "<'col-sm-12 col-md-7 d-flex align-items-center justify-content-center justify-content-md-end'p>" +
                ">"
        });
</script>
{% endblock extrajs %}